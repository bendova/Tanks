<behaviortree version="1.1" repeatuntil="" name="PatrolAggressive" debugbreak="False"><sequencer usepriorities="False" repeatuntil="" name="root" debugbreak="False"><expression returnvalue="success" repeatuntil="" priority="" name="moveSpeed = 6" expression="moveSpeed = 6" debugbreak="False" /><expression returnvalue="success" repeatuntil="" priority="" name="attackRange = 8" expression="attackRange = 8" debugbreak="False" /><parallel tiebreaker="fail" succeed="all" repeatuntil="" priority="" name="parallel" fail="any" debugbreak="False"><sequencer usepriorities="False" repeatuntil="running" name="Look out for player" debugbreak="False"><selector usepriorities="False" repeatuntil="success" priority="" name="look for player" debugbreak="False"><detect sensor="&quot;LongRangeSensor&quot;" repeatuntil="" priority="" name="detect long range" matchtype="best" entityobjectvariable="" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="playerSighting" aspect="&quot;Player&quot;" /><detect sensor="&quot;CloseRangeSensor&quot;" repeatuntil="" priority="" name="detect close range" matchtype="best" entityobjectvariable="" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="playerSighting" aspect="&quot;Player&quot;" /></selector><expression returnvalue="success" repeatuntil="" priority="" name="player = playerSighting" expression="player = playerSighting" debugbreak="False" /><expression returnvalue="success" repeatuntil="" priority="" name="playerPos = position(playerSighting)" expression="playerPos = position(playerSighting)" debugbreak="False" /></sequencer><constraint repeatuntil="running" name="player != null. Attack player" debugbreak="False" constraint="player != null"><parallel tiebreaker="fail" succeed="all" repeatuntil="" name="parallel" fail="any" debugbreak="False"><selector usepriorities="False" repeatuntil="running" name="can attack?" debugbreak="False"><decision repeatuntil="" priority="" parametervalues="MA==" parameters="TWluU3RvY2s=" namespace="(global)" name="needs ammo?" debugbreak="False" classname="NeedsAmmo"><expression returnvalue="success" repeatuntil="" name="canAttack = false" expression="canAttack = false" debugbreak="False" /></decision><decision repeatuntil="" priority="" parametervalues="MjA=" parameters="TWluSGl0UG9pbnRz" namespace="(global)" name="needs tank parts?" debugbreak="False" classname="NeedsTankParts"><expression returnvalue="success" repeatuntil="" name="canAttack = false" expression="canAttack = false" debugbreak="False" /></decision><expression returnvalue="success" repeatuntil="" priority="" name="canAttack = true" expression="canAttack = true" debugbreak="False" /></selector><constraint repeatuntil="running" name="canAttack == false. Look for supplies" debugbreak="False" constraint="canAttack == false"><selector usepriorities="False" repeatuntil="" name="look for supplies" debugbreak="False"><parallel tiebreaker="fail" succeed="all" repeatuntil="running" priority="" name="parallel" fail="any" debugbreak="False"><sequencer usepriorities="False" repeatuntil="running" name="look for tank parts" debugbreak="False"><expression returnvalue="success" repeatuntil="" priority="" name="needsTankParts = false" expression="needTankParts = false" debugbreak="False" /><decision repeatuntil="" priority="" parametervalues="MjA=" parameters="TWluSGl0UG9pbnRz" namespace="(global)" name="needs tank parts?" debugbreak="False" classname="NeedsTankParts" /><expression returnvalue="success" repeatuntil="" priority="" name="needsTankParts = true" expression="needTankParts = true" debugbreak="False" /><expression returnvalue="success" repeatuntil="" priority="" name="canPatrol = true" expression="canPatrol = true" debugbreak="False" /><detect sensor="&quot;LongRangeSensor&quot;" repeatuntil="" priority="" name="detect tankParts" matchtype="best" entityobjectvariable="" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="tankParts" aspect="&quot;TankParts&quot;" /><expression returnvalue="success" repeatuntil="" priority="" name="canPatrol = false" expression="canPatrol = false" debugbreak="False" /><move turnspeed="" repeatuntil="" priority="" name="move to tankParts" movetarget="tankParts" movespeed="moveSpeed" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle="" /><expression returnvalue="success" repeatuntil="" priority="" name="tankParts = null" expression="tankParts = null" debugbreak="False" /></sequencer><sequencer usepriorities="False" repeatuntil="running" name="look for ammo" debugbreak="False"><constraint repeatuntil="" priority="" name="needsTankParts == false" debugbreak="False" constraint="needsTankParts == false" /><expression returnvalue="success" repeatuntil="" priority="" name="needsAmmo = false" expression="needsAmmo = false" debugbreak="False" /><decision repeatuntil="" priority="" parametervalues="MA==" parameters="TWluU3RvY2s=" namespace="(global)" name="needs ammo?" debugbreak="False" classname="NeedsAmmo" /><expression returnvalue="success" repeatuntil="" priority="" name="needsAmmo = true" expression="needsAmmo = true" debugbreak="False" /><expression returnvalue="success" repeatuntil="" priority="" name="canPatrol = true" expression="canPatrol = true" debugbreak="False" /><detect sensor="&quot;LongRangeSensor&quot;" repeatuntil="" priority="" name="detect ammo" matchtype="best" entityobjectvariable="" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="ammo" aspect="&quot;Ammo&quot;" /><expression returnvalue="success" repeatuntil="" priority="" name="canPatrol = false" expression="canPatrol = false" debugbreak="False" /><move turnspeed="" repeatuntil="" priority="" name="move to ammo" movetarget="ammo" movespeed="moveSpeed" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle="" /><expression returnvalue="success" repeatuntil="" priority="" name="ammo = null" expression="ammo = null" debugbreak="False" /></sequencer><constraint repeatuntil="running" name="canPatrol" debugbreak="False" constraint="canPatrol"><waypointpatrol waypointsetvariable="LookForSuppliesPath" waypointactiontype="patrol" traversetype="loop" traverseorder="forward" repeatuntil="" pathtargetvariable="" name="waypointpatrol" movetargetvariable="waypoint" debugbreak="False"><move turnspeed="" repeatuntil="" name="move to waypoint" movetarget="waypoint" movespeed="moveSpeed" facetarget="" debugbreak="False" closeenoughdistance="0" closeenoughangle="" /></waypointpatrol></constraint><sequencer usepriorities="False" repeatuntil="running" name="sequencer" debugbreak="False"><expression returnvalue="success" repeatuntil="" priority="" name="canAttack = ((needTankParts || needsAmmo) == false)" expression="canAttack = ((needTankParts || needsAmmo) == false)" debugbreak="False" /></sequencer></parallel><constraint repeatuntil="success" priority="" name="canAttack == true" debugbreak="False" constraint="canAttack == true"><treebinding repeatuntil="" name="LookAtLastKnowPos" debugbreak="False" binding="LookAtLastKnowPos" /></constraint></selector></constraint><constraint repeatuntil="running" name="canAttack == true. Get in range and attack." debugbreak="False" constraint="canAttack == true"><sequencer usepriorities="False" repeatuntil="" name="attack if in range" debugbreak="False"><expression returnvalue="success" repeatuntil="" priority="" name="isAttacking = false" expression="isAttacking = false" debugbreak="False" /><detect sensor="&quot;AttackRangeSensor&quot;" repeatuntil="" priority="" name="detect if in attack range" matchtype="best" entityobjectvariable="" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="" aspect="&quot;Player&quot;" /><expression returnvalue="success" repeatuntil="" priority="" name="isAttacking = true" expression="isAttacking = true" debugbreak="False" /><action repeatuntil="" priority="" parametervalues="cGxheWVyUG9zAG1vdmVTcGVlZABhdHRhY2tSYW5nZQ==" parameters="VGFyZ2V0UG9zAE1vdmVTcGVlZABSYW5nZQ==" namespace="(global)" name="keep player in attack range" debugbreak="False" classname="KeepTargetInRange" /><action repeatuntil="" priority="" parametervalues="cGxheWVy" parameters="VGFyZ2V0" namespace="(global)" name="attack" debugbreak="False" classname="Attack" /></sequencer></constraint><constraint repeatuntil="running" name="canAttack &amp;&amp; isAttacking == false. Look for the player" debugbreak="False" constraint="canAttack &amp;&amp; isAttacking == false"><parallel tiebreaker="fail" succeed="all" repeatuntil="" name="selector" fail="all" debugbreak="False"><constraint repeatuntil="" name="playerSighting != null" debugbreak="False" constraint="playerSighting != null"><move turnspeed="" repeatuntil="" name="move to player" movetarget="playerPos" movespeed="moveSpeed" facetarget="playerPos" debugbreak="False" closeenoughdistance="closeEnoughDistance" closeenoughangle="" /></constraint><constraint repeatuntil="" name="playerSighting == null &amp;&amp; isAttacking == false" debugbreak="False" constraint="playerSighting == null &amp;&amp; isAttacking == false"><treebinding repeatuntil="" name="LookAtLastKnowPos" debugbreak="False" binding="LookAtLastKnowPos" /></constraint></parallel></constraint></parallel></constraint><constraint repeatuntil="running" name="player == null. Patrol" debugbreak="False" constraint="player == null"><treebinding repeatuntil="" name="PatrolBehavior" debugbreak="False" binding="PatrolBehavior" /></constraint></parallel></sequencer></behaviortree>